{"version":3,"file":"static/js/738.77b12ca1.chunk.js","mappings":"mKAIA,MA0DA,EA1DiDA,IAC/C,MAAM,MAAEC,EAAK,OAAEC,GAAWF,EAEpBG,GAAeC,EAAAA,EAAAA,UAEfC,EAAO,IACR,IAAIC,IAAIC,EAAAA,GAAmCC,IAAKC,GAASA,EAAKC,YAEhEF,IAAKC,IACQ,CACVC,SAAUD,EACVE,WAAYJ,EAAAA,GAAmCK,OAC5CC,GAASA,EAAKH,WAAaD,GAAQI,EAAKC,KAAO,GAChDC,UAILH,OAAQH,GAA2B,8EAAlBA,EAAKC,UAsCzB,OApCAM,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAOC,EAAAA,GAAU,CACrBC,SACE,uXACFlB,MAAOA,EACPC,OAAQA,EACRkB,WAAY,IACZC,YAAa,GACbC,EAAG,CAAEC,MAAO,KAAMC,MAAM,GACxBC,EAAG,CACDC,KAAM,KACNH,MAAO,0JACPI,aAAc,GAEhBC,MAAO,CACLV,EAAAA,GAAUb,EAAM,CACdoB,EAAG,aACHH,EAAG,WACHO,KAAM,oBACNC,KAAM,CAAER,EAAG,QAEbJ,EAAAA,GAAUb,EAAM,CACdoB,EAAG,aACHH,EAAG,WACHS,KAAM,aACNC,WAAY,QACZC,GAAI,EACJJ,KAAM,yBAMZ,OADA1B,EAAa+B,QAAQC,OAAOlB,GACrB,IAAMA,EAAKmB,UACjB,KAEIC,EAAAA,EAAAA,KAAA,OAAKC,IAAKnC,I","sources":["components/consumptionByCategoriesTerritoriesCount.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\nimport * as Plot from \"@observablehq/plot\";\nimport { dataConsumptionByYearsByCategories } from \"../data/data\";\n\nconst ConsumptionByCategoriesTerritoriesCount = (props) => {\n  const { width, height } = props;\n\n  const containerRef = useRef();\n\n  const data = [\n    ...new Set(dataConsumptionByYearsByCategories.map((elem) => elem.category)),\n  ]\n    .map((elem) => {\n      const obj = {\n        category: elem,\n        municipals: dataConsumptionByYearsByCategories.filter(\n          (item) => item.category === elem && item.diff < 0\n        ).length,\n      };\n      return obj;\n    })\n    .filter((elem) => elem.category !== \"Все категории\");\n\n  useEffect(() => {\n    const plot = Plot.plot({\n      subtitle:\n        \"Количество муниципалитетов, в которых расходы год к году сократились\",\n      width: width,\n      height: height,\n      marginLeft: 150,\n      marginRight: 80,\n      y: { label: null, grid: false },\n      x: {\n        axis: null,\n        label: \"Количество муниципалитетов\",\n        labelOffset: -8,\n      },\n      marks: [\n        Plot.barX(data, {\n          x: \"municipals\",\n          y: \"category\",\n          fill: \"rgba(0, 0, 0, .8)\",\n          sort: { y: \"-x\" },\n        }),\n        Plot.text(data, {\n          x: \"municipals\",\n          y: \"category\",\n          text: \"municipals\",\n          textAnchor: \"start\",\n          dx: 6,\n          fill: \"rgba(0, 0, 0, .8)\",\n        }),\n      ],\n    });\n\n    containerRef.current.append(plot);\n    return () => plot.remove();\n  }, []);\n\n  return <div ref={containerRef} />;\n};\n\nexport default ConsumptionByCategoriesTerritoriesCount;\n"],"names":["props","width","height","containerRef","useRef","data","Set","dataConsumptionByYearsByCategories","map","elem","category","municipals","filter","item","diff","length","useEffect","plot","Plot","subtitle","marginLeft","marginRight","y","label","grid","x","axis","labelOffset","marks","fill","sort","text","textAnchor","dx","current","append","remove","_jsx","ref"],"sourceRoot":""}